{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports['default'] = highlightText;\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\nvar _lodashEscape = require('lodash.escape');\nvar _lodashEscape2 = _interopRequireDefault(_lodashEscape);\nvar _mergeRanges = require('merge-ranges');\nvar _mergeRanges2 = _interopRequireDefault(_mergeRanges);\nvar _diacritics = require('diacritics');\nfunction allIndexesOf(str, word) {\n  var indexes = [];\n  for (var idx = str.indexOf(word); idx !== -1; idx = str.indexOf(word, idx + 1)) {\n    indexes.push(idx);\n  }\n  return indexes;\n}\nfunction highlightText(text, highlight) {\n  var tag = arguments.length <= 2 || arguments[2] === undefined ? 'b' : arguments[2];\n  var escapedText = _lodashEscape2['default'](text);\n  var normalizedText = _diacritics.remove(escapedText).toLowerCase();\n  var highlightIntervals = _lodashEscape2['default'](highlight).split(/(\\s+)/).map(function (word) {\n    return word.trim();\n  }).filter(function (word) {\n    return word;\n  }).reduce(function (intervals, word) {\n    var normalizedWord = _diacritics.remove(word).toLowerCase();\n    var wordIntervals = allIndexesOf(normalizedText, normalizedWord).map(function (idx) {\n      return [idx, idx + normalizedWord.length];\n    });\n    return intervals.concat(wordIntervals);\n  }, []);\n  return _mergeRanges2['default'](highlightIntervals).reduceRight(function (reducedText, _ref) {\n    var start = _ref[0];\n    var end = _ref[1];\n    return reducedText.slice(0, start) + ('<' + tag + '>') + reducedText.slice(start, end) + ('</' + tag + '>') + reducedText.slice(end);\n  }, escapedText);\n}\nmodule.exports = exports['default'];","map":{"version":3,"names":["exports","__esModule","highlightText","_interopRequireDefault","obj","_lodashEscape","require","_lodashEscape2","_mergeRanges","_mergeRanges2","_diacritics","allIndexesOf","str","word","indexes","idx","indexOf","push","text","highlight","tag","arguments","length","undefined","escapedText","normalizedText","remove","toLowerCase","highlightIntervals","split","map","trim","filter","reduce","intervals","normalizedWord","wordIntervals","concat","reduceRight","reducedText","_ref","start","end","slice","module"],"sources":["/Users/sophialuo/node_modules/highlight-text/lib/index.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports['default'] = highlightText;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodashEscape = require('lodash.escape');\n\nvar _lodashEscape2 = _interopRequireDefault(_lodashEscape);\n\nvar _mergeRanges = require('merge-ranges');\n\nvar _mergeRanges2 = _interopRequireDefault(_mergeRanges);\n\nvar _diacritics = require('diacritics');\n\nfunction allIndexesOf(str, word) {\n  var indexes = [];\n  for (var idx = str.indexOf(word); idx !== -1; idx = str.indexOf(word, idx + 1)) {\n    indexes.push(idx);\n  }\n  return indexes;\n}\n\nfunction highlightText(text, highlight) {\n  var tag = arguments.length <= 2 || arguments[2] === undefined ? 'b' : arguments[2];\n\n  var escapedText = _lodashEscape2['default'](text);\n  var normalizedText = _diacritics.remove(escapedText).toLowerCase();\n  var highlightIntervals = _lodashEscape2['default'](highlight).split(/(\\s+)/).map(function (word) {\n    return word.trim();\n  }).filter(function (word) {\n    return word;\n  }).reduce(function (intervals, word) {\n    var normalizedWord = _diacritics.remove(word).toLowerCase();\n    var wordIntervals = allIndexesOf(normalizedText, normalizedWord).map(function (idx) {\n      return [idx, idx + normalizedWord.length];\n    });\n    return intervals.concat(wordIntervals);\n  }, []);\n\n  return _mergeRanges2['default'](highlightIntervals).reduceRight(function (reducedText, _ref) {\n    var start = _ref[0];\n    var end = _ref[1];\n\n    return reducedText.slice(0, start) + ('<' + tag + '>') + reducedText.slice(start, end) + ('</' + tag + '>') + reducedText.slice(end);\n  }, escapedText);\n}\n\nmodule.exports = exports['default'];"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}